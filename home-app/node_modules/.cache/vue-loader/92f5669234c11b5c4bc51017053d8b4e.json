{"remainingRequest":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\src\\components\\split-panel\\SplitPanel.vue?vue&type=template&id=6792ff10&scoped=true","dependencies":[{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\src\\components\\split-panel\\SplitPanel.vue","mtime":1636712650657},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1632349277000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoNCiAgICA8ZGl2IGNsYXNzPSJTcGxpdFBhbmVsIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ic3BsaXQtdGl0bGUiPg0KICAgICAgICA8aDE+IFNwbGl0IFBhbmVsIDwvaDE+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgDQogICAgICAgIDxkaXYgY2xhc3M9ImFkZC1iaWxscyI+DQogICAgICAgICAgICA8QWRkQmlsbCBAR2V0QmlsbD0iR2V0QmlsbCIgQFNob3dNZW1iZXJzPSJTaG93TWVtYmVycyIgOk1lbWJlcnNUb1NwbGl0PSJNZW1iZXJzVG9TcGxpdCIgOk1lbWJlcnNDb3VudFZhbHVlPSJNZW1iZXJzQ291bnRWYWx1ZSIvPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJtZW1iZXJzLWRldGFpbHMiPg0KICAgICAgICAgICAgPE1lbWJlcnNEZXRhaWxzIEBHZXRNZW1iZXJzPSJHZXRNZW1iZXJzIiByZWY9J01lbWJlcnNEZXRhaWxzJyA6RmxhdFVzZXJzVG9TZW5kPSJGbGF0VXNlcnNUb1NlbmQiLz4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgIDxkaXYgY2xhc3M9ImJpbGxzLWxpc3QiPg0KICAgICAgICAgICAgPGgyPiBOZXcgQmlsbHMgPC9oMj4NCiAgICAgICAgIDxNeUJpbGxzIEBSZW1vdmVCaWxsPSJSZW1vdmVCaWxsIiA6QmlsbHNMaXN0PSJOZXdCaWxsc1RvU2VuZCIgOmRlYnRUb01lPSJkZWJ0VG9NZSIgcmVmPSdNeUJpbGxzJy8+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgY2xhc3M9ImJpbGxzLXRvLXBheSI+DQogICAgICAgICAgICA8aDI+IEJpbGxzIHRvIHBheSA8L2gyPg0KICAgICAgICAgPEJpbGxzVG9HaXZlQmFjayAgOkJpbGxzTGlzdFRvUGF5PSJCaWxsc1RvUGF5IiAvPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgIA0KICAgIDwvZGl2Pg0K"},{"version":3,"sources":["C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\src\\components\\split-panel\\SplitPanel.vue"],"names":[],"mappings":";;IAEI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnI,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrG,CAAC,CAAC,CAAC,CAAC,CAAC;;SAEJ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClG,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,CAAC;;;IAGT,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/micha/OneDrive/Pulpit/vue/Vue Home App/home-application-for-flatmates/home-app/src/components/split-panel/SplitPanel.vue","sourceRoot":"","sourcesContent":["<template>\r\n\r\n    <div class=\"SplitPanel\">\r\n        <div class=\"split-title\">\r\n        <h1> Split Panel </h1>\r\n        </div>\r\n            \r\n        <div class=\"add-bills\">\r\n            <AddBill @GetBill=\"GetBill\" @ShowMembers=\"ShowMembers\" :MembersToSplit=\"MembersToSplit\" :MembersCountValue=\"MembersCountValue\"/>\r\n        </div>\r\n\r\n        <div class=\"members-details\">\r\n            <MembersDetails @GetMembers=\"GetMembers\" ref='MembersDetails' :FlatUsersToSend=\"FlatUsersToSend\"/>\r\n        </div>\r\n\r\n         <div class=\"bills-list\">\r\n            <h2> New Bills </h2>\r\n         <MyBills @RemoveBill=\"RemoveBill\" :BillsList=\"NewBillsToSend\" :debtToMe=\"debtToMe\" ref='MyBills'/>\r\n        </div>\r\n\r\n        <div class=\"bills-to-pay\">\r\n            <h2> Bills to pay </h2>\r\n         <BillsToGiveBack  :BillsListToPay=\"BillsToPay\" />\r\n        </div>\r\n\r\n       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport AddBill from './AddBill.vue'\r\nimport MyBills from './MyBills.vue'\r\nimport MembersDetails from './MembersDetails.vue'\r\nimport BillsToGiveBack from './BillsToGiveBack.vue'\r\nexport default{\r\n\r\n    components:{\r\n        AddBill,\r\n        MyBills,\r\n        MembersDetails,\r\n        BillsToGiveBack,\r\n       \r\n    },\r\n    data() {\r\n        return{\r\n       BillsList:[],\r\n       NewBillsToSend:[],\r\n       BillsToPay:[],\r\n       FlatUsersToSend:[],\r\n       debtToMe:0,\r\n       MembersToSplit: null,\r\n       MembersCountValue:\"\"\r\n        }\r\n \r\n    },\r\n \r\n    methods:{\r\n        GetBill(Bill){\r\n    \r\n       this.NewBillsToSend = this.NewBillsToSend.concat(Bill)\r\n   let sum = this.NewBillsToSend\r\n    .map(x => parseInt( x.owMeCount))\r\n    .filter(x => !isNaN(x))\r\n    .reduce((x, y) => x + y, 0); //sumoanie\r\n   this.debtToMe = sum\r\n         //console.log(\"sum: \"+ sum);\r\n        // console.log(this.NewBillsToSend[0])\r\n        //this.debtToMe = this.debtToMe + Bill.owMeCount\r\n        //console.log(this.NewBillsToSend[2].title)\r\n       \r\n       // suma owtome z lsity do debttome\r\n\r\n       \r\n        },\r\n\r\n        GetMembers(MembersCount,MembersCountValue){\r\n        this.MembersToSplit = MembersCount;\r\n        this.MembersCountValue= MembersCountValue\r\n        },\r\n\r\n        ShowMembers(){\r\n            this.$refs.MembersDetails.ShowMembers()\r\n        },\r\n\r\n        RemoveBill(bill){\r\n         const loadedEmail =  localStorage.getItem('emailStore')\r\n         \r\n            if(bill.membersValues.includes(loadedEmail))\r\n            {\r\n                this.debtToMe = this.debtToMe - ((bill.price/bill.members) * (bill.members-1))\r\n            }\r\n\r\n            else{\r\n                this.debtToMe = this.debtToMe - bill.price\r\n            }\r\n           \r\n            this.BillsList.splice(this.BillsList.indexOf(bill), 1);\r\n           \r\n            \r\n        },\r\n\r\n        async loadDuty(){\r\n            const response = await axios.get('http://localhost:4000/app/splitGet');\r\n          \r\n            const loadedEmail =  localStorage.getItem('emailStore')\r\n          \r\n        let dbBills = response.data.filter(e => e.email === loadedEmail)\r\n        this.NewBillsToSend = this.NewBillsToSend.concat(dbBills)\r\n      //console.log(this.NewBillsToSend)\r\n   let sum = this.NewBillsToSend.map(x => parseInt( x.owMeCount)).filter(x => !isNaN(x)).reduce((x, y) => x + y, 0);\r\n   this.debtToMe = sum\r\n             \r\n       },\r\n\r\n\r\n        async loadUsers(){\r\n            const response = await axios.get('http://localhost:4000/app/signupGet');\r\n            const loadedFlatId =  localStorage.getItem('flatIdStore')\r\n          \r\n   \r\n        let array = [...response.data]\r\n        let dbFlats = array.filter(e => e.flatId === loadedFlatId)\r\n        //console.log(loadedFlatId)\r\n\r\n        //this.FlatUsersToSend.push(dbFlats)\r\n        \r\n        this.FlatUsersToSend = this.FlatUsersToSend.concat(dbFlats)\r\n\r\n        //console.log(array)\r\n        // console.log(dbFlats)\r\n          // this.FlatUsersToSend = dbFlats\r\n       },\r\n\r\n\r\n        // my bills to send to other users\r\n            async loadMyBillsToPay(){\r\n            const response = await axios.get('http://localhost:4000/app/splitGet');\r\n          \r\n            const loadedEmail=localStorage.getItem('emailStore')\r\n          \r\n        let dbBillsToPay = response.data.filter(e => e.email !== loadedEmail)  //all bills created by other users\r\n        \r\n      \r\nconsole.log(dbBillsToPay)\r\n\r\n        for(let i=0; i<dbBillsToPay.length;i++ ){\r\n            if(dbBillsToPay[i].membersValues[0].includes(loadedEmail)){\r\n               \r\n                this.BillsToPay = this.BillsToPay.concat(dbBillsToPay[i])\r\n             \r\n                 \r\n            }\r\n        }\r\n\r\n             \r\n       },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n\r\n      mounted(){\r\n        \r\n        this.loadDuty()\r\n        this.loadUsers()\r\n        this.loadMyBillsToPay()\r\n    }\r\n\r\n    }\r\n\r\n</script>\r\n \r\n\r\n<style scoped>\r\n.SplitPanel{\r\n    width: 100%;\r\n    height: 80%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n}\r\n\r\n.add-bills{\r\n height: 20%;\r\n width: 60%;\r\n\r\n}\r\n\r\n.bills-list{\r\n    height:40%;\r\n    width: 90%;\r\n    text-align: center;\r\n \r\n}\r\n\r\n.bills-to-pay{\r\n    height:50%;\r\n    width: 90%;\r\n    text-align: center;\r\n}\r\n\r\n</style>"]}]}