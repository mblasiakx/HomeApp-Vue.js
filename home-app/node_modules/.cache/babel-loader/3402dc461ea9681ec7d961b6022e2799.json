{"remainingRequest":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\src\\components\\split-panel\\SplitPanel.vue?vue&type=template&id=6792ff10&scoped=true","dependencies":[{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\src\\components\\split-panel\\SplitPanel.vue","mtime":1637944623299},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1632349277000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTY3OTJmZjEwIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIlNwbGl0UGFuZWwiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJiZ2xvZ28iCiAgfSwgbnVsbCwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImFkZC1iaWxscyIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJtZW1iZXJzLWRldGFpbHMiCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAiYmlsbHMtbGlzdCIKfTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIG51bGwsICIgTmV3IEJpbGxzICIsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJiaWxscy10by1wYXkiCn07Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDIiLCBudWxsLCAiIEJpbGxzIHRvIHBheSAiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfQWRkQmlsbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJBZGRCaWxsIik7CgogIHZhciBfY29tcG9uZW50X01lbWJlcnNEZXRhaWxzID0gX3Jlc29sdmVDb21wb25lbnQoIk1lbWJlcnNEZXRhaWxzIik7CgogIHZhciBfY29tcG9uZW50X015QmlsbHMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTXlCaWxscyIpOwoKICB2YXIgX2NvbXBvbmVudF9CaWxsc1RvR2l2ZUJhY2sgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQmlsbHNUb0dpdmVCYWNrIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQWRkQmlsbCwgewogICAgb25HZXRCaWxsOiAkb3B0aW9ucy5HZXRCaWxsLAogICAgb25TaG93TWVtYmVyczogJG9wdGlvbnMuU2hvd01lbWJlcnMsCiAgICBNZW1iZXJzVG9TcGxpdDogJGRhdGEuTWVtYmVyc1RvU3BsaXQsCiAgICBNZW1iZXJzQ291bnRWYWx1ZTogJGRhdGEuTWVtYmVyc0NvdW50VmFsdWUKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25HZXRCaWxsIiwgIm9uU2hvd01lbWJlcnMiLCAiTWVtYmVyc1RvU3BsaXQiLCAiTWVtYmVyc0NvdW50VmFsdWUiXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01lbWJlcnNEZXRhaWxzLCB7CiAgICBvbkdldE1lbWJlcnM6ICRvcHRpb25zLkdldE1lbWJlcnMsCiAgICByZWY6ICJNZW1iZXJzRGV0YWlscyIsCiAgICBGbGF0VXNlcnNUb1NlbmQ6ICRkYXRhLkZsYXRVc2Vyc1RvU2VuZAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbkdldE1lbWJlcnMiLCAiRmxhdFVzZXJzVG9TZW5kIl0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfaG9pc3RlZF82LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9NeUJpbGxzLCB7CiAgICBvblVwZGF0ZVZhbHVlb2ZCaWxsczogJG9wdGlvbnMudXBkYXRlVmFsdWVvZkJpbGxzLAogICAgb25SZW1vdmVCaWxsOiBfY3R4LlJlbW92ZUJpbGwsCiAgICBCaWxsc0xpc3Q6ICRkYXRhLk5ld0JpbGxzVG9TZW5kLAogICAgZGVidFRvTWU6ICRkYXRhLmRlYnRUb01lLAogICAgcmVmOiAiTXlCaWxscyIKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25VcGRhdGVWYWx1ZW9mQmlsbHMiLCAib25SZW1vdmVCaWxsIiwgIkJpbGxzTGlzdCIsICJkZWJ0VG9NZSJdKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2hvaXN0ZWRfOCwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmlsbHNUb0dpdmVCYWNrLCB7CiAgICBCaWxsc0xpc3RUb1BheTogJGRhdGEuQmlsbHNUb1BheQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJCaWxsc0xpc3RUb1BheSJdKV0pXSk7Cn0="},{"version":3,"sources":["C:\\Users\\micha\\OneDrive\\Pulpit\\vue\\Vue Home App\\home-application-for-flatmates\\home-app\\src\\components\\split-panel\\SplitPanel.vue"],"names":[],"mappings":";;;;;;;AAES,EAAA,KAAK,EAAC;;;;sBACR,mBAAA,CAA0B,KAA1B,EAA0B;AAArB,IAAA,KAAK,EAAC;AAAe,GAA1B,EAAmB,IAAnB,EAAmB,CAAA;AAAA;AAAnB,G;;;;AAEM,EAAA,KAAK,EAAC;;;AAIN,EAAA,KAAK,EAAC;;;AAIL,EAAA,KAAK,EAAC;;;;sBACR,mBAAA,CAAoB,IAApB,EAAoB,IAApB,EAAI,aAAJ,EAAe,CAAA;AAAA;AAAf,G;;;;AAIC,EAAA,KAAK,EAAC;;;;sBACP,mBAAA,CAAuB,IAAvB,EAAuB,IAAvB,EAAI,gBAAJ,EAAkB,CAAA;AAAA;AAAlB,G;;;;;;;;;;;;uBAjBR,mBAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBH,UAqBG,EAnBF,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADF,YAAA,CAAgI,kBAAhI,EAAgI;AAAtH,IAAA,SAAO,EAAE,QAAA,CAAA,OAA6G;AAAnG,IAAA,aAAW,EAAE,QAAA,CAAA,WAAsF;AAAxE,IAAA,cAAc,EAAE,KAAA,CAAA,cAAwD;AAAvC,IAAA,iBAAiB,EAAE,KAAA,CAAA;AAAoB,GAAhI,E,IAAA,E;;AAAA,I,qEAAA,CACE,CAFN,CAmBE,EAfF,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADF,YAAA,CAAkG,yBAAlG,EAAkG;AAAjF,IAAA,YAAU,EAAE,QAAA,CAAA,UAAqE;AAAzD,IAAA,GAAG,EAAC,gBAAqD;AAAnC,IAAA,eAAe,EAAE,KAAA,CAAA;AAAkB,GAAlG,E,IAAA,E;;AAAA,I,mCAAA,CACE,CAFN,CAeE,EAXD,mBAAA,CAGK,KAHL,EAAA,UAAA,EAGK,CAFF,UAEE,EADL,YAAA,CAA6I,kBAA7I,EAA6I;AAAnI,IAAA,oBAAkB,EAAE,QAAA,CAAA,kBAA+G;AAAzF,IAAA,YAAU,EAAE,IAAA,CAAA,UAA6E;AAA/D,IAAA,SAAS,EAAE,KAAA,CAAA,cAAoD;AAAnC,IAAA,QAAQ,EAAE,KAAA,CAAA,QAAyB;AAAf,IAAA,GAAG,EAAC;AAAW,GAA7I,E,IAAA,E;;AAAA,I,iEAAA,CACK,CAHL,CAWC,EANF,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,UAEE,EADL,YAAA,CAAiD,0BAAjD,EAAiD;AAA9B,IAAA,cAAc,EAAE,KAAA,CAAA;AAAc,GAAjD,EAA6C,IAA7C,EAA6C;AAAA;AAA7C,IAA6C,CAAA,gBAAA,CAA7C,CACK,CAHN,CAME,CAtBN,C","sourcesContent":["<template>\r\n\r\n    <div class=\"SplitPanel\">\r\n       <div class=\"bglogo\"></div>\r\n            \r\n        <div class=\"add-bills\">\r\n            <AddBill @GetBill=\"GetBill\" @ShowMembers=\"ShowMembers\" :MembersToSplit=\"MembersToSplit\" :MembersCountValue=\"MembersCountValue\"/>\r\n        </div>\r\n\r\n        <div class=\"members-details\">\r\n            <MembersDetails @GetMembers=\"GetMembers\" ref='MembersDetails' :FlatUsersToSend=\"FlatUsersToSend\"/>\r\n        </div>\r\n\r\n         <div class=\"bills-list\">\r\n            <h2> New Bills </h2>\r\n         <MyBills @updateValueofBills=\"updateValueofBills\"  @RemoveBill=\"RemoveBill\"  :BillsList=\"NewBillsToSend\" :debtToMe=\"debtToMe\" ref='MyBills'/>\r\n        </div>\r\n\r\n        <div class=\"bills-to-pay\">\r\n            <h2> Bills to pay </h2>\r\n         <BillsToGiveBack  :BillsListToPay=\"BillsToPay\" />\r\n        </div>\r\n\r\n       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport AddBill from './AddBill.vue'\r\nimport MyBills from './MyBills.vue'\r\nimport MembersDetails from './MembersDetails.vue'\r\nimport BillsToGiveBack from './BillsToGiveBack.vue'\r\nexport default{\r\n\r\n    components:{\r\n        AddBill,\r\n        MyBills,\r\n        MembersDetails,\r\n        BillsToGiveBack,\r\n       \r\n    },\r\n    data() {\r\n        return{\r\n       BillsList:[],\r\n       NewBillsToSend:[],\r\n       BillsToPay:[],\r\n       FlatUsersToSend:[],\r\n       debtToMe:0,\r\n       MembersToSplit: null,\r\n       MembersCountValue:\"\"\r\n        }\r\n \r\n    },\r\n \r\n    methods:{\r\n        GetBill(Bill){\r\n    \r\n       this.NewBillsToSend = this.NewBillsToSend.concat(Bill)\r\n   let sum = this.NewBillsToSend\r\n    .map(x => parseFloat( x.owMeCount))\r\n    .filter(x => !isNaN(x))\r\n    .reduce((x, y) => x + y, 0); //sum\r\n\r\n   this.debtToMe = sum\r\n  \r\n       \r\n        },\r\n\r\n        GetMembers(MembersCount,MembersCountValue){\r\n        this.MembersToSplit = MembersCount;\r\n        this.MembersCountValue= MembersCountValue\r\n        },\r\n\r\n        ShowMembers(){\r\n            this.$refs.MembersDetails.ShowMembers()\r\n        },\r\n\r\n        /*RemoveBill(bill){\r\n         const loadedEmail =  localStorage.getItem('emailStore')\r\n         \r\n            if(bill.membersValues.includes(loadedEmail))\r\n            {\r\n                this.debtToMe = this.debtToMe - ((bill.price/bill.members) * (bill.members-1))\r\n            }\r\n\r\n            else{\r\n                this.debtToMe = this.debtToMe - bill.price\r\n            }\r\n           \r\n            this.BillsList.splice(this.BillsList.indexOf(bill), 1);\r\n\r\n        },*/\r\n\r\n       async updateValueofBills(deletedValue){\r\n            this.debtToMe = this.debtToMe - deletedValue\r\n            //console.log(deletedValue + 'wynik')\r\n        },\r\n\r\n        async loadDuty(){\r\n            const response = await axios.get('http://localhost:4000/app/splitGet');\r\n          \r\n            const loadedEmail =  localStorage.getItem('emailStore')\r\n          \r\n        let dbBills = response.data.filter(e => e.email === loadedEmail)\r\n        this.NewBillsToSend = this.NewBillsToSend.concat(dbBills)\r\n   \r\n   let sum = this.NewBillsToSend.map(x => parseFloat( x.owMeCount)).filter(x => !isNaN(x)).reduce((x, y) => x + y, 0);\r\n \r\n   this.debtToMe = sum\r\n             \r\n       },\r\n\r\n\r\n\r\n\r\n\r\n        async loadUsers(){\r\n            const response = await axios.get('http://localhost:4000/app/signupGet');\r\n            const loadedFlatId =  localStorage.getItem('flatIdStore')\r\n          \r\n   \r\n        let array = [...response.data]\r\n        let dbFlats = array.filter(e => e.flatId === loadedFlatId)\r\n  \r\n        \r\n        this.FlatUsersToSend = this.FlatUsersToSend.concat(dbFlats)\r\n\r\n  \r\n       },\r\n\r\n\r\n        // my bills to send to other users\r\n            async loadMyBillsToPay(){\r\n            const response = await axios.get('http://localhost:4000/app/splitGet');\r\n          \r\n            const loadedEmail=localStorage.getItem('emailStore')\r\n          \r\n        let dbBillsToPay = response.data.filter(e => e.email !== loadedEmail)  //all bills created by other users\r\n        \r\n      \r\n\r\n\r\n        for(let i=0; i<dbBillsToPay.length;i++ ){\r\n            if(dbBillsToPay[i].membersValues[0].includes(loadedEmail)){\r\n               \r\n                this.BillsToPay = this.BillsToPay.concat(dbBillsToPay[i])\r\n             \r\n                 \r\n            }\r\n        }\r\n\r\n             \r\n       },\r\n\r\n\r\n    },\r\n\r\n      mounted(){\r\n        \r\n        this.loadDuty()\r\n        this.loadUsers()\r\n        this.loadMyBillsToPay()\r\n    }\r\n\r\n    }\r\n\r\n</script>\r\n \r\n\r\n<style scoped>\r\n.SplitPanel{\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    background:linear-gradient(rgb(78, 142, 163),rgb(100, 66, 128),rgb(67, 35, 93));\r\n\r\n}\r\n\r\n\r\n.bglogo{\r\n    background-image: url('/money2.png') ;\r\n    position:absolute;\r\n    top:30%;\r\n    height: 500px;\r\n    width: 500px;\r\n    background-size: cover;\r\n}\r\n\r\n.add-bills{\r\n height: 20%;\r\n width: 60%;\r\n position: relative;\r\n top:3%;\r\n\r\n}\r\n\r\n.bills-list{\r\n    height:40%;\r\n    width: 90%;\r\n    text-align: center;\r\n    position: relative;\r\n    margin-top: 2%;\r\n  \r\n}\r\n\r\n.bills-list h2{\r\n     color:white;\r\n    background: rgba(61, 20, 95, 0.281);\r\n   \r\n}\r\n\r\n\r\n.bills-to-pay{\r\nheight:40%;\r\nwidth: 90%;\r\ntext-align: center;\r\n color: white;\r\n\r\n}\r\n\r\n.bills-to-pay h2{\r\n background: rgba(61, 20, 95, 0.281);\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}